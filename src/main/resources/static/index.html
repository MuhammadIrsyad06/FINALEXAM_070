<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <title>Final Exam</title>
</head>
<body>
    <script>
        function get(){
            const urlg= "http://localhost:8080/GET";
            $.ajax({
                url:urlg,
                method:"GET",
                dataType:"text",
                success:function(result){
                    document.getElementById("viewer").innerHTML=result;
                },
            });
        }
        function post(){
            const url="http://localhost:8080/POST";
            let ID=document.getElementById("id").value;
            let NIK=document.getElementById("nik").value;
            let name=document.getElementById("name").value;
            let tgl_lahir=document.getElementById("tgl_lahir").value;
            let photo = document.getElementById("photo").value;
            let ts=document.getElementById("time").value;
            let dataText={id:postID,nik:postNIK,name:name,tgl_lahir:tgl_lahir}
            let dataJson = JSON.stringify(dataText).concat(photo);

            $.ajax({
                url:url,
                method:'POST',
                data: dataJson,
                    contentType: 'application/json',
                    dataType: 'text',
                    success: function (result) {
                        document.getElementById("viewer").innerHTML = result;
                    }
            });
        }
        function put(){
            const urlp="http://localhost:8080/PUT";
            let ID=document.getElementById("id").value;
            let NIK=document.getElementById("nik").value;
            let name=document.getElementById("name").value;
            let tgl_lahir=document.getElementById("tgl_lahir").value;
            let photo = document.getElementById("photo").value;
            let ts=document.getElementById("time").value;
            let dataText={id:postID,nik:postNIK,name:name,tgl_lahir:tgl_lahir}
            let dataJson = JSON.stringify(dataText).concat(photo);

            $.ajax({
                url:urlp,
                method:'PUT',
                data:dataJson,
                contentType:'application/json',
                dataType:'text',
                success:function(result){
                    document.getElementById("viewer").innerHTML=result;
                }
            });
        }
        function del(){
            const urld="http://localhost:8080/DELETE";
            let ID=document.getElementById("id").value;
            let NIK=document.getElementById("nik").value;
            let name=document.getElementById("name").value;
            let tgl_lahir=document.getElementById("tgl_lahir").value;
            let photo = document.getElementById("photo").value;
            let ts=document.getElementById("time").value;
            let dataText={id:postID,nik:postNIK,name:name,tgl_lahir:tgl_lahir}
            let dataJson = JSON.stringify(dataText).concat(photo);

            $.ajax({
                url:urlp,
                method:'DELETE',
                data:dataJson,
                contentType:'application/json',
                dataType:'text',
                success:function(result){
                    document.getElementById("viewer").innerHTML=result;
                }
            });
        }
    </script>
    <h3>Masukkan Data Penduduk</h3>
    
    <table>
        <tr>
            <td>ID</td>
            <td><input type="text" id="id" name="id" placeholder="Masukkan ID"/></td>
        </tr>
        <tr>
            <td>NIK</td>
            <td><input type="text" id="nik" name="nik" placeholder="Masukkan NIK"/></td>
        </tr>
        <tr>
            <td>Nama</td>
            <td><input type="text" id="name" name="name" placeholder="Masukkan Nama"/></td>
        </tr>
        <tr>
            <td>Tanggal Lahir</td>
            <td><input type="date" id="tgl_lahir" name="date"/></td>
        </tr>
        <tr>
            <td>Photo</td>
            <td><input type="file" id="foto" name="photo"/></td>
        </tr>
        <tr>
            <td>TimeStamp</td>
            <td><input type="time" id="time" name="time" placeholder="Masukkan ID"/></td>
        </tr>
        <tr>
            <td><button onclick="get()">GET FROM WEB SERVICE</button></td>
        </tr>
        <tr>
            <td><button onclick="post()">POST FROM WEB SERVICE</button></td>
        </tr>
        <tr>
            <td><button onclick="put()">PUT FROM WEB SERVICE</button></td>
        </tr>
        <tr>
            <td><button onclick="del()">DELETE FROM WEB SERVICE</button></td>
        </tr>
    </table>
    
</body>
</html>
